<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Communications - Bridely.ai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: sans-serif;
            background-color: #FFFBEB; /* Amber Background */
        }
        /* Custom Colors */
        .bg-olive { background-color: #365314; }
        .text-olive { color: #365314; }
        .text-gold { color: #B45309; }
        .border-gold { border-color: #B45309; }
        .bg-golden-brown { background-color: #92400E; }
        .hover\:bg-golden-brown-dark:hover { background-color: #78350F; }
        .bg-apricot { background-color: #FFEDD5; }

        .message-list-container {
            height: calc(100vh - 12rem); /* Adjust based on nav/header height */
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Navigation -->
    <nav class="bg-olive shadow-md fixed top-0 w-full z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0">
                    <a href="landing-page.html" class="text-2xl font-bold text-white">bridely.ai</a>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Dashboard</a>
                    <a href="#" class="text-amber-300 border-amber-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Communications</a>
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Checklist</a>
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Budget</a>
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Guests</a>
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Vendors</a>
                    <a href="#" class="text-gray-300 hover:text-white inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">Website</a>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:items-center">
                    <span class="text-sm text-gray-300">Jane & John</span>
                    <a href="landing-page.html" class="ml-4 text-sm font-medium text-gray-400 hover:text-white">Log out</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 pb-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-olive">Communications Center</h1>
            </header>

            <div class="bg-white rounded-lg shadow-lg flex message-list-container">
                <!-- Left: Message List -->
                <div class="w-1/3 border-r border-gray-200 overflow-y-auto">
                    <ul id="messageList" class="divide-y divide-gray-200">
                        <!-- Message items will be loaded here by JS -->
                    </ul>
                </div>
                
                <!-- Right: Message Content -->
                <div id="message-viewer" class="w-2/3 p-8 overflow-y-auto">
                    <!-- Content will be loaded here by JS -->
                </div>
            </div>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const messages = {
                '1': {
                    subject: 'Payment Reminder: The Grand Ballroom',
                    from: 'Bridely.ai Automated Alerts',
                    date: 'June 11, 2025, 11:59 AM',
                    body: `
                        <p class="text-gray-700">Hi Jane & John,</p>
                        <p class="mt-4 text-gray-700">This is a friendly reminder that the final balance payment for your venue, <strong>The Grand Ballroom</strong>, is due in one week on <strong>June 18, 2025</strong>.</p>
                        <p class="mt-4 text-gray-700"><strong>Amount Due:</strong> $5,000.00</p>
                        <div class="mt-6">
                            <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-golden-brown hover:bg-golden-brown-dark">Go to Budget Tracker</a>
                        </div>
                        <p class="mt-4 text-gray-700">Thank you,<br>The Bridely.ai Team</p>
                    `,
                    isNew: true
                },
                '2': {
                    subject: 'New RSVP Received!',
                    from: 'Bridely.ai Guest Manager',
                    date: 'June 10, 2025, 08:22 PM',
                    body: `
                        <p class="text-gray-700">Great news!</p>
                        <p class="mt-4 text-gray-700">You've received a new response to your wedding invitation.</p>
                        <ul class="mt-4 space-y-2 text-gray-800 list-disc list-inside bg-gray-50 p-4 rounded-md">
                            <li><strong>Guest Name:</strong> Michael Scott</li>
                            <li><strong>RSVP Status:</strong> Attending</li>
                            <li><strong>Meal Choice:</strong> Chicken</li>
                            <li><strong>Dietary Notes:</strong> None</li>
                        </ul>
                        <p class="mt-4 text-gray-700">Your guest list has been automatically updated.</p>
                         <div class="mt-6">
                            <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-golden-brown hover:bg-golden-brown-dark">View Guest List</a>
                        </div>
                    `,
                    isNew: false
                },
                 '3': {
                    subject: 'Upcoming Task: Finalize Song List',
                    from: 'Bridely.ai Task Reminders',
                    date: 'June 8, 2025, 09:00 AM',
                    body: `
                        <p class="text-gray-700">Hi there,</p>
                        <p class="mt-4 text-gray-700">Just a heads-up that a task on your checklist is approaching its due date:</p>
                        <p class="mt-4 text-gray-700 p-4 border-l-4 border-yellow-400 bg-yellow-50"><strong>Task:</strong> Finalize a song list of must-plays and do-not-plays with your DJ/Band.<br><strong>Due Date:</strong> June 15, 2025</p>
                        <p class="mt-4 text-gray-700">Staying on top of your checklist ensures a smooth planning process!</p>
                         <div class="mt-6">
                            <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-golden-brown hover:bg-golden-brown-dark">View Full Checklist</a>
                        </div>
                    `,
                     isNew: false
                },
                 '4': {
                    subject: 'Contract Uploaded: Aloha Photography',
                    from: 'Bridely.ai Document Hub',
                    date: 'June 6, 2025, 02:45 PM',
                    body: `
                        <p class="text-gray-700">Hi Jane & John,</p>
                        <p class="mt-4 text-gray-700">A new contract has been added to your account for <strong>Aloha Photography</strong>.</p>
                        <p class="mt-4 text-gray-700">You can now view, download, and track payments associated with this contract directly from your Budget Tracker. This helps keep all your important vendor documents in one secure place.</p>
                         <div class="mt-6">
                            <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-golden-brown hover:bg-golden-brown-dark">View Contract</a>
                        </div>
                    `,
                    isNew: false
                }
            };
            
            const messageList = document.getElementById('messageList');
            const messageViewer = document.getElementById('message-viewer');
            
            const loadMessageList = () => {
                messageList.innerHTML = '';
                for (const id in messages) {
                    const message = messages[id];
                    const listItem = document.createElement('li');
                    listItem.dataset.messageId = id;
                    listItem.className = 'p-4 hover:bg-gray-50 cursor-pointer';

                    let newBadge = '';
                    if (message.isNew) {
                         listItem.classList.add('bg-apricot', 'font-semibold');
                         newBadge = '<span class="text-xs text-brown bg-amber-200 px-2 py-1 rounded-full">New</span>';
                    }
                    
                    listItem.innerHTML = `
                        <div class="flex justify-between items-center">
                            <p class="text-gray-800">${message.subject}</p>
                            ${newBadge}
                        </div>
                        <p class="text-sm text-gray-600 truncate font-normal">${message.from}</p>
                        <time class="text-xs text-gray-400 font-normal">${message.timestamp}</time>
                    `;
                    messageList.appendChild(listItem);
                }
            };

            const loadMessageContent = (id) => {
                const message = messages[id];
                if (!message) return;
                
                message.isNew = false;
                loadMessageList(); 
                
                document.querySelectorAll('#messageList li').forEach(li => {
                    li.classList.remove('bg-gray-100', 'border-l-4', 'border-gold');
                    if (li.dataset.messageId === id) {
                         li.classList.add('bg-gray-100', 'border-l-4', 'border-gold');
                    }
                });

                messageViewer.innerHTML = `
                    <h2 class="text-2xl font-bold text-gray-900">${message.subject}</h2>
                    <div class="mt-4 pb-4 border-b">
                        <p class="text-sm text-gray-800"><strong>From:</strong> ${message.from}</p>
                        <p class="text-sm text-gray-500"><strong>Date:</strong> ${message.date}</p>
                    </div>
                    <div class="mt-6 prose max-w-none">
                        ${message.body}
                    </div>
                `;
            };

            messageList.addEventListener('click', (e) => {
                const listItem = e.target.closest('li');
                if (listItem) {
                    const messageId = listItem.dataset.messageId;
                    loadMessageContent(messageId);
                }
            });

            // Initial Load
            loadMessageList();
            loadMessageContent('1');
        });
    </script>
</body>
</html>
